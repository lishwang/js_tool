##### 笔记内容可以参考 wls 的 [自定义工具函数库](https://zxfjd3g.github.io/aishangwang_utils-docs/)

### Symbol

##### Symbol 的基本使用

- ES6 引入了一种新的原始数据类型 Symbol，表示独一无二的值。它是JavaScript 语言的第七种数据类型，是一种类似于字符串的数据类型。
- 创建 Symbol
  - 字面量 ` Symbol() ` ;
  - ` Symbol.for('wls') ` ;

```
// 方法一：
let s1 = Symbol();
let s2 = Symbol('aaa');
console.log(s1, typeof s1);

// 方法二：
let s3 = Symbol.for('wls');
let s3_2 = Symbol.for('wls');
console.log(s3 === s3_2);
```

##### Symbol 特点

- Symbol 的值是唯一的，用来解决命名冲突的问题；
- Symbol 值不能与其他数据进行运算；
- Symbol 定义 的 对象属 性 不能 使 用 ` for…in`  循 环遍 历 ，但 是可 以 使 用 ` Reflect.ownKeys ` 来获取对象的所有键名;

##### **Symbol** **内置属性**

- Symbol内置属性 是固定写法，它的整体通常作为对象的一个属性，来改变对象在特定场景下的表现，可以扩展对象的功能；

| 内置属性                  | 作用                                                         |
| ------------------------- | ------------------------------------------------------------ |
| Symbol.hasInstance        | 当其他对象使用 instanceof 运算符，判断是否为该对象的实例时，会调用这个方法 |
| Symbol.isConcatSpreadable | 对象的 Symbol.isConcatSpreadable 属性等于的是一个布尔值，表示该对象用于 Array.prototype.concat()时，是否可以展开。 |
| Symbol.species            | 创建衍生对象时，会使用该属性                                 |
| Symbol.match              | 当执行 str.match(myObject) 时，如果该属性存在，会调用它，返回该方法的返回值。 |
| Symbol.replace            | 当该对象被 str.replace(myObject)方法调用时，会返回该方法的返回值。 |
| Symbol.search             | 当该对象被 str.search (myObject)方法调用时，会返回该方法的返回值。 |
| Symbol.split              | 当该对象被 str.split(myObject)方法调用时，会返回该方法的返回值。 |
| Symbol.iterator           | 对象进行 for...of 循环时，会调用 Symbol.iterator 方法，返回该对象的默认遍历器 |
| Symbol.toPrimitive        | 该对象被转为原始类型的值时，会调用这个方法，返回该对象对应的原始类型值。 |
| Symbol. toStringTag       | 在该对象上面调用 toString 方法时，返回该方法的返回值         |
| Symbol. unscopables       | 该对象指定了使用 with 关键字时，哪些属性会被 with 环境排除。 |

##### 属性练习

###### Symbol.hasInstance 可以自己来控制类型检测

```
属性一：Symbol.hasInstance 可以自己来控制类型检测
class Person{
    static [Symbol.hasInstance](param){
        console.log(param); // {a: 1};
        console.log("我被用来检测类型了");
        return true;
    }
}
let o = {a: 1};
console.log(o instanceof Person); // true
```

###### Symbol.isConcatSpreadable 可以控制数组采用concat合并时，某个数组是否被展开后合并

```
属性二：Symbol.isConcatSpreadable 可以控制数组采用concat合并时，某个数组是否被展开后合并
const arr = [1,2,3];
const arr2 = [4,5,6];
arr2[Symbol.isConcatSpreadable] = false;
console.log(arr.concat(arr2)); // [1,2,3,[4,5,6]]
```

